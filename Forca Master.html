<!DOCTYPE html> <!-- Define que o documento est√° no padr√£o HTML5 -->
<html>
<head>
  <meta charset="UTF-8"> <!-- Permite caracteres especiais (acentos, √ß, etc.) -->
  <title>Forca Master</title> <!-- Nome exibido na aba do navegador -->

  <style>
    /* Estilo geral da p√°gina */
    body {
      margin: 0; /* Remove margens padr√£o */
      padding: 0; /* Remove espa√ßamentos internos */
      background: #f5f5f5; /* Cor de fundo da p√°gina */
      font-family: "Segoe UI", Arial, sans-serif; /* Define fontes */
      display: flex; /* Usa Flexbox para alinhar o conte√∫do */
      justify-content: center; /* Centraliza horizontalmente */
      align-items: center; /* Centraliza verticalmente */
      min-height: 100vh; /* Ocupa 100% da altura da tela */
      color: #222; /* Cor principal do texto */
    }

    /* Caixa principal do jogo */
    .container {
      background: #ffffff; /* Fundo branco */
      padding: 35px 45px; /* Espa√ßamento interno */
      border-radius: 16px; /* Bordas arredondadas */
      box-shadow: 0 8px 25px rgba(0,0,0,0.08); /* Sombra suave */
      width: 380px; /* Largura fixa */
      position: relative; /* Permite posicionar elementos internamente */
      text-align: center; /* Centraliza texto */
    }

    /* Estilo da etiqueta de vers√£o */
    .versao {
      position: absolute; /* Fixa dentro do container */
      top: 10px;
      right: 15px;
      font-size: 14px;
      font-weight: 600;
      color: #777;
    }

    /* Estilo do t√≠tulo */
    h2 {
      margin-top: 0;
      font-size: 28px;
      font-weight: 700;
      color: #333;
    }

    /* Estilo comum para select, inputs e bot√µes */
    select, input, button {
      width: 100%; /* Ocupa largura total */
      height: 42px; /* Altura fixa */
      padding: 10px; /* Espa√ßamento interno */
      margin-top: 10px; /* Espa√ßamento superior */
      border-radius: 8px; /* Bordas arredondadas */
      border: 1px solid #ccc; /* Borda cinza clara */
      font-size: 16px; /* Tamanho do texto */
      box-sizing: border-box; /* Inclui padding dentro da largura total */
    }

    /* Estilo dos bot√µes */
    button {
      border: none;
      background: #007bff; /* Cor azul */
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s; /* Efeito de anima√ß√£o ao passar o mouse */
    }

    /* Estilo do bot√£o quando passa o mouse */
    button:hover:not(:disabled) {
      background: #005fcc;
    }

    /* Bot√£o desativado */
    button:disabled {
      background: #aaa;
      cursor: not-allowed;
    }

    /* √Årea dos cora√ß√µes de vida */
    .coracoes {
      font-size: 32px;
      margin: 10px 0;
      letter-spacing: 2px;
    }

    /* Texto que mostra vidas restantes */
    #vidasTexto {
      font-size: 18px;
      margin-top: 15px;
      font-weight: 600;
      color: #333;
    }

    /* Estilo da palavra exibida como _ _ _ */
    #palavra {
      font-size: 26px;
      letter-spacing: 4px;
      margin-top: 15px;
      font-weight: 600;
    }

    /* Texto que mostra a quantidade de letras por palavra */
    #contador {
      margin-top: 5px;
      color: #777;
      font-size: 14px;
    }

    /* Mensagens de resultado (acertou, errou, venceu) */
    #resultado {
      margin-top: 15px;
      font-size: 16px;
      font-weight: bold;
      color: #444;
      min-height: 24px; /* Mant√©m altura fixa para n√£o mover os elementos */
    }

    /* Letras j√° tentadas */
    #letrasTentadas {
      font-size: 14px;
      margin-top: 10px;
      color: #555;
    }

  </style>
</head>

<body>

<div class="container"> <!-- Caixa principal do jogo -->

  <div class="versao">v1.1</div> <!-- Vers√£o do sistema -->
  <h2>Forca Master</h2> <!-- T√≠tulo principal -->

  <!-- Menu de sele√ß√£o de temas -->
  <label>Tema:</label>
  <select id="tema">
    <option value="comidas">Comidas</option>
    <option value="animais">Animais</option>
    <option value="objetos">Objetos</option>
    <option value="Pa√≠ses">Pa√≠ses</option>
    <option value="Jogadores">Jogadores de Futebol</option>
    <option value="Marcas">Marcas</option>
    <option value="Nomes">Nomes</option>
    <option value="Filmes">Filmes</option>
    <option value="Famosos">Famosos</option>
  </select>

  <!-- Bot√£o que inicia o jogo -->
  <button id="btnEscolher" onclick="escolherPalavra()">Escolher Palavra</button>

  <!-- Exibi√ß√£o de vidas -->
  <p id="vidasTexto"></p>
  <div id="vidas" class="coracoes"></div>

  <!-- Exibi√ß√£o da palavra -->
  <p id="palavra"></p>
  <p id="contador"></p>

  <!-- Entrada de letras individuais -->
  <input id="letra" maxlength="1" placeholder="Digite uma letra" disabled>
  <button id="btnEnviar" onclick="enviarLetra()" disabled>Enviar</button>

  <!-- Chute da palavra completa -->
  <input id="chute" placeholder="Chutar a palavra inteira" disabled>
  <button onclick="chutarPalavra()" id="btnChutar" disabled>Chutar</button>

  <!-- Mensagens e hist√≥rico -->
  <p id="resultado"></p>
  <p id="letrasTentadas"></p>

</div>

<script>
  /* Banco de palavras por tema */
  const palavras = { 
    comidas: ["feijoada","farofa","acaraj√©","cuscuz","brigadeiro","pamonha","vatap√°","tapioca", "moqueca","canjica"],
    animais: ["quati","saracura","tatu bola","veado campeiro","zang√£o","bicho folharal"],
    objetos: ["caderno","chinelo","garrafa","cadeira","janela","abajur"],
    Pa√≠ses: ["Brasil","Jap√£o","Canad√°","Egito"],
    Jogadores: ["Neymar","Pel√©","Zico","Ronaldo", "Messi"],
    Marcas: ["Nike","Adidas","Toyota","Apple"],
    Nomes: ["Ana","Bruno","Carla","Daniel"],
    Filmes: ["Titanic","Bacurau","Carandiru","Est√¥mago"],
    Famosos: ["Anitta","Ivete Sangalo","Whindersson Nunes","Faust√£o"]
  };

  /* Vari√°veis principais do jogo */
  let palavraEscolhida = ""; // Palavra original com acentos
  let exibicao = ""; // Palavra exibida com _ _ _
  let palavraNormalizada = ""; // Palavra sem acentos (para compara√ß√£o)
  let vidasMax = 7; // vidas iniciais
  let vidasRestantes = vidasMax; // vidas em jogo
  let letrasErradas = new Set(); // Armazena letras incorretas
  let letrasCertas = new Set(); // Armazena letras corretas
  let jogoAtivo = false; // Indica se o jogo est√° ativo

  /* Fun√ß√£o que remove acentos para facilitar compara√ß√£o */
  function normalizar(str) {
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  }

  /* Atualiza cora√ß√µes e texto de vidas na tela */
  function atualizarCoracoes() {
    let html = "";
    for (let i = 0; i < vidasRestantes; i++) html += "‚ù§Ô∏è"; // Vidas ativas
    for (let i = 0; i < vidasMax - vidasRestantes; i++) html += "üñ§"; // Vidas perdidas
    document.getElementById("vidas").innerHTML = html;
    document.getElementById("vidasTexto").textContent =
      `Vidas Restantes: ${vidasRestantes}/${vidasMax}`;
  }

  /* Atualiza letras j√° tentadas */
  function atualizarLetrasTentadas() {
    const arr = Array.from(letrasErradas).concat(Array.from(letrasCertas));
    document.getElementById("letrasTentadas").textContent =
      arr.length === 0 ? "" : `Letras j√° tentadas: ${arr.join(", ")}`;
  }

  /* Escolhe aleatoriamente uma palavra do tema */
  function escolherPalavra() {
    const tema = document.getElementById("tema").value;
    palavraEscolhida = palavras[tema][Math.floor(Math.random() * palavras[tema].length)];
    palavraNormalizada = normalizar(palavraEscolhida.toLowerCase());

    exibicao = palavraNormalizada.replace(/[a-z]/gi, "_"); // substitui letras por _

    vidasRestantes = vidasMax;
    letrasErradas.clear();
    letrasCertas.clear();
    jogoAtivo = true;

    atualizarCoracoes();
    atualizarLetrasTentadas();
    atualizarExibicao();

    document.getElementById("resultado").textContent = "";
    document.getElementById("letra").disabled = false;
    document.getElementById("btnEnviar").disabled = false;
    document.getElementById("chute").disabled = false;
    document.getElementById("btnChutar").disabled = false;
  }

  /* Atualiza a palavra exibida */
  function atualizarExibicao() {
    let exibicaoComEspacos = "";
    for (let i = 0; i < exibicao.length; i++) {
      exibicaoComEspacos += exibicao[i] === " " ? "   " : exibicao[i] + " ";
    }
    document.getElementById("palavra").textContent = exibicaoComEspacos;

    const partes = palavraEscolhida.split(" ");
    const counts = partes.map(p => `${p.length} letras`);
    document.getElementById("contador").textContent = counts.join(" | ");
  }

  /* Revela palavra completa (quando vence ou erra tudo) */
  function revelarPalavraCompleta() {
    let revelada = "";
    for (let i = 0; i < palavraEscolhida.length; i++) {
      revelada += palavraEscolhida[i] + " ";
    }
    document.getElementById("palavra").textContent = revelada;
  }

  /* Encerramento do jogo */
  function encerrarJogo(msg) {
    jogoAtivo = false;
    document.getElementById("resultado").textContent = msg;
    document.getElementById("letra").disabled = true;
    document.getElementById("btnEnviar").disabled = true;
    document.getElementById("chute").disabled = true;
    document.getElementById("btnChutar").disabled = true;
  }

  /* L√≥gica de tentativa de letra √∫nica */
  function enviarLetra() {
    if (!jogoAtivo) return;

    const entrada = document.getElementById("letra").value.toLowerCase();
    document.getElementById("letra").value = "";
    if (!entrada) return;

    const letraNormalizada = normalizar(entrada);

    if (letrasErradas.has(entrada) || letrasCertas.has(entrada)) {
      document.getElementById("resultado").textContent =
        `Voc√™ j√° tentou "${entrada.toUpperCase()}" antes.`;
      return;
    }

    let acertou = false;
    let nova = exibicao.split("");

    for (let i = 0; i < palavraNormalizada.length; i++) {
      if (palavraNormalizada[i] === letraNormalizada) {
        nova[i] = palavraEscolhida[i];
        acertou = true;
      }
    }

    exibicao = nova.join("");

    if (acertou) {
      letrasCertas.add(entrada);
      document.getElementById("resultado").textContent = "Boa!";
    } else {
      letrasErradas.add(entrada);
      vidasRestantes--;
      atualizarCoracoes();
      document.getElementById("resultado").textContent = "Letra errada!";
    }

    atualizarExibicao();
    atualizarLetrasTentadas();

    if (!exibicao.includes("_")) {
      encerrarJogo("Parab√©ns, voc√™ venceu!");
      return;
    }

    if (vidasRestantes <= 0) {
      revelarPalavraCompleta();
      encerrarJogo(`Voc√™ perdeu! A palavra era: ${palavraEscolhida}`);
    }
  }

  /* Chute da palavra completa */
  function chutarPalavra() {
    if (!jogoAtivo) return;

    const chute = document.getElementById("chute").value.trim().toLowerCase();
    document.getElementById("chute").value = "";
    if (!chute) return;

    if (normalizar(chute) === normalizar(palavraEscolhida.toLowerCase())) {
      revelarPalavraCompleta();
      encerrarJogo("Incr√≠vel! Voc√™ acertou chutando!");
    } else {
      vidasRestantes--;
      atualizarCoracoes();

      if (vidasRestantes <= 0) {
        revelarPalavraCompleta();
        encerrarJogo(`Errou! A palavra era: ${palavraEscolhida}`);
      } else {
        document.getElementById("resultado").textContent =
          "Chute incorreto! Voc√™ perdeu 1 vida!";
      }
    }
  }

  /* Permite usar Enter para enviar a letra */
  document.addEventListener("keydown", function(e) {
    if (e.key === "Enter" && jogoAtivo && document.activeElement.id === "letra") {
      enviarLetra();
    }
  });

  /* Permite Enter para chutar a palavra */
  document.getElementById("chute").addEventListener("keydown", function(e) {
    if (e.key === "Enter" && jogoAtivo) chutarPalavra();
  });

</script>

</body>
</html>
